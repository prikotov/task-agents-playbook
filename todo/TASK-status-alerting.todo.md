# TASK-status-alerting: Alerting —Å–∏—Å—Ç–µ–º–∞

## –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
- **–¢–∏–ø**: feat
- **–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 2026-02-12
- **–¶–µ–Ω–Ω–æ—Å—Ç—å**: V4
- **–°–ª–æ–∂–Ω–æ—Å—Ç—å**: C4
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P3
- **–ó–∞–≤–∏—Å–∏—Ç –æ—Ç**: TASK-status-health-application
- **Epic**: [EPIC-status-page](EPIC-status-page.todo.md)
- **–ê–≤—Ç–æ—Ä**: system_analyst
- **–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å**: ‚Äî
- **–í–µ—Ç–∫–∞**: task/TASK-status-alerting
- **PR**: ‚Äî
- **–°—Ç–∞—Ç—É—Å**: todo

## 1. –ö–æ–Ω—Ü–µ–ø—Ü–∏—è –∏ –¶–µ–ª—å
### Story (User Story)
–ö–∞–∫ –æ–ø–µ—Ä–∞—Ç–æ—Ä —Å–∏—Å—Ç–µ–º—ã,
—è —Ö–æ—á—É –ø–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏,
—á—Ç–æ–±—ã –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –∏–Ω—Ü–∏–¥–µ–Ω—Ç—ã.

### –¶–µ–ª—å (SMART)
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –∞–ª–µ—Ä—Ç–∏–Ω–≥–∞:
1) Domain —Å—É—â–Ω–æ—Å—Ç–∏ –¥–ª—è –ø—Ä–∞–≤–∏–ª –∞–ª–µ—Ä—Ç–∏–Ω–≥–∞;
2) Application service –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤–∏–ª;
3) Integration —Å Email –∏ Slack –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.

## 2. –ö–æ–Ω—Ç–µ–∫—Å—Ç –∏ –ì—Ä–∞–Ω–∏—Ü—ã (Scope)
**–ì–¥–µ –¥–µ–ª–∞–µ–º:** `src/Module/Health/Domain/Alerting/`, `src/Module/Health/Application/Alerting/`, `src/Module/Health/Integration/Notification/`

**–¢–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:** –ü—Ä–æ–±–ª–µ–º—ã –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Ä—É—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–µ —Å—Ç–∞—Ç—É—Å-—Å—Ç—Ä–∞–Ω–∏—Ü—ã.

**–ì—Ä–∞–Ω–∏—Ü—ã (Out of Scope):**
- SMS —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- Webhook –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- Escalation policies

## 3. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è (MoSCoW)
### üî¥ Must Have
- [ ] Entity `AlertRule` —Å —É—Å–ª–æ–≤–∏—è–º–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è
- [ ] Entity `Alert` —Å –∏—Å—Ç–æ—Ä–∏–µ–π –æ—Ç–ø—Ä–∞–≤–æ–∫
- [ ] Service `AlertingService` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤–∏–ª
- [ ] Integration —Å Email –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- [ ] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è rules —á–µ—Ä–µ–∑ YAML/env

### üü° Should Have
- [ ] Integration —Å Slack –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- [ ] Rate limiting –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è spam
- [ ] Silence periods –¥–ª—è maintenance windows

### üü¢ Could Have
- [ ] Webhook integration
- [ ] Custom notification templates

### ‚ö´ Won't Have
- [ ] SMS —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- [ ] Escalation policies

## 4. –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (Tasks)
1. [ ] –°–æ–∑–¥–∞—Ç—å `AlertRule.php` entity
2. [ ] –°–æ–∑–¥–∞—Ç—å `Alert.php` entity
3. [ ] –°–æ–∑–¥–∞—Ç—å `AlertRuleRepositoryInterface.php`
4. [ ] –°–æ–∑–¥–∞—Ç—å `AlertingService.php`
5. [ ] –°–æ–∑–¥–∞—Ç—å `EmailNotificationAdapter.php`
6. [ ] –î–æ–±–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é alert rules
7. [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å health checks
8. [ ] –ù–∞–ø–∏—Å–∞—Ç—å Unit –∏ Integration —Ç–µ—Å—Ç—ã

## 5. –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏ (Definition of Ready)
- [ ] –ê–ª–µ—Ä—Ç—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ degraded/unhealthy —Å—Ç–∞—Ç—É—Å–∞—Ö
- [ ] Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] Rate limiting –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç spam

## 6. –°–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∞ (Verification)
```bash
make tests-unit
make tests-integration
make check
```

## 7. –†–∏—Å–∫–∏ –∏ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –ó–∞–≤–∏—Å–∏—Ç –æ—Ç Email module
- –ù—É–∂–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è SMTP

## 8. –ò—Å—Ç–æ—á–Ω–∏–∫–∏
- [ ] [Symfony Mailer](https://symfony.com/doc/current/mailer.html)
- [ ] [Slack API](https://api.slack.com/)

## 9. –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
–ù–∞—á–∞—Ç—å —Å –±–∞–∑–æ–≤–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.

## –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
| –î–∞—Ç–∞ | –ê–≤—Ç–æ—Ä | –ò–∑–º–µ–Ω–µ–Ω–∏–µ |
| :--- | :--- | :--- |
| 2026-02-12 | system_analyst | –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ |
