# Product Requirements Document (PRD): TasK

> **Статус:** Active
> **Версия:** 1.0
> **Последнее обновление:** 2026-02-25

---

## 1. Обзор продукта

**TasK** — интеллектуальный конвейер для автоматической обработки, анализа и индексации неструктурированных данных (PDF, аудио, веб-источники) с возможностью семантического поиска.

### Ключевые ссылки

| Документ | Назначение |
|----------|------------|
| [**Vision**](vision.md) | Видение продукта, целевая аудитория, ценность, принципы |
| [**Миссия**](mission.md) | Миссия и ценностный фундамент продукта |
| [**Стратегия**](strategy.md) | Бизнес-цели и стратегии их достижения |

---

## 2. Проблематика

Подробное описание проблем, которые решает TasK, см. в [Vision → Problem Statement](vision.md#5-problem-statement).

**Кратко:**

1. **Информационная перегрузка** — компании накапливают данные, но не могут их использовать
2. **Трудности поиска** — поиск по ключевым словам не учитывает смысл
3. **Ручной труд** — извлечение знаний требует значительных усилий
4. **Разрозненные решения** — отсутствие целостного контроля над данными

---

## 3. Целевая аудитория

Подробное описание целевой аудитории см. в [Vision → Target Users](vision.md#6-target-users).

### Primary Users
- **Internal Team** — разработчики и инженеры проекта
- **Developers** — технические специалисты, интегрирующие TasK через API
- **Knowledge Workers** — сотрудники, работающие с большими объёмами документации

### Secondary Users
- **Product Managers** — создают и настраивают проекты для команд
- **Data Analysts** — используют RAG-возможности для аналитики

---

## 4. Ценность продукта

Подробное описание ценности см. в [Vision → Value Proposition](vision.md#7-value-proposition).

| Ценность | Описание |
|----------|----------|
| **Время** | Автоматизация рутинной обработки данных |
| **Качество** | AI-first подход для точного извлечения смыслов |
| **Суверенитет** | Self-hosted и локальная обработка, контроль над данными |
| **Интеграция** | Open API и открытые стандарты |

---

## 5. Принципы продукта

Подробное описание принципов см. в:
- [Vision → Product Principles](vision.md#8-product-principles)
- [Миссия → Принципы](mission.md#принципы)

| Принцип | Приоритет |
|---------|-----------|
| Простота и удобство | Высший |
| Качество | Высокий |
| Скорость | Базовый |

**Приоритет при конфликте:** простота > качество > скорость

---

## 6. Функциональные требования

### 6.1. MVP (Minimum Viable Product)

Полное определение MVP см. в [mvp.md](mvp.md).

**Назначение:** Internal tool для внутренней команды разработчиков.

#### Основные функции MVP

| Feature | Описание |
|---------|----------|
| Source Ingestion | Загрузка файлов из локальной ФС и HTTP-URL |
| Text Extraction | Извлечение текста из PDF, DOCX, TXT |
| Audio Transcription | Базовая транскрибация аудио-файлов |
| **Audio Diarization** | **Идентификация спикеров в аудио/видео — конкурентное преимущество** |
| Chunking | Разбиение текста на chunks для vector search |
| Embeddings | Генерация embeddings через Ollama/LLM |
| Vector Storage | Хранение векторов в PostgreSQL + pgvector |
| Semantic Search | Базовый semantic search по индексу |
| CLI Interface | Console команды для ingestion и query |
| Basic Web UI | Веб-интерфейс для просмотра источников и поиска |

#### Критерии приёмки MVP

См. [mvp.md → Критерии приёмки](mvp.md#критерии-приёмки)

### 6.2. MMP (Minimum Marketable Product)

Полное определение MMP см. в [mmp.md](mmp.md).

**Назначение:** Минимальная версия для публичного представления и внешних пользователей (early adopters).

#### Что добавлено к MVP

| Область | MMP (Добавлено) |
|--------|------------------|
| Аутентификация | Базовая аутентификация + OAuth2 (Google, Yandex) |
| Мультиарендность | Проекты и команды |
| Безопасность | RBAC |
| Наблюдаемость | Метрики, логирование, оповещения |
| API | Версионированный API (v1), стабильные контракты |
| Документация | Публичная документация API, руководства |
| Развертывание | Руководство по production-деплою |

#### Критерии выхода MMP

См. [mmp.md → Критерии выхода](mmp.md#критерии-выхода)

---

## 7. Пользовательские истории

Все пользовательские истории и формат их описания см. в [user-stories/](user-stories/README.md).

### Story Mapping

Визуализация пользовательских историй по backbone activities и релизам см. в [story-mapping.md](story-mapping.md).

### Backbone Activities

1. **Ingest** — загрузка данных из источников
2. **Process** — обработка и индексация данных
3. **Query** — поиск информации
4. **Manage** — управление проектами и командами

### Примеры User Stories

- [US-001](user-stories/US-001-example.md) — Разработчик загружает PDF через CLI и ищет через API
- [US-002](user-stories/US-002-example.md) — Product manager создаёт проект и команда ищет через веб

---

## 8. Non-Goals (За рамками продукта)

Подробный список см. в [Vision → Non-Goals](vision.md#9-non-goals) и [Vision → Scope Boundaries](vision.md#11-scope-boundaries).

**Что TasK НЕ делает:**
- Не конкурирует с Notion/Obsidian как редактор документов
- Не предоставляет социальные фичи (комментарии, рецензии)
- Не разрабатывает мобильные приложения
- Не хостит данные пользователей как SaaS
- Не является универсальной CRM/ERP системой

---

## 9. Метрики успеха

Подробное описание метрик см. в [Vision → Success Metrics](vision.md#10-success-metrics).

### Ключевые метрики

| Метрика | Описание | Бизнес-цель |
|---------|----------|-------------|
| Documents processed | Количество успешно обработанных документов | Валидация pipeline |
| Search success rate | Доля успешных поисковых запросов | Цель 2: Семантический поиск |
| Search latency | Время ответа на поисковый запрос | Цель 2: < 2 секунд |
| Diarization accuracy | Точность идентификации спикеров | Конкурентное преимущество |
| Extraction quality | Точность извлечения данных | Цель 1: > 95% |
| API usage | Количество запросов к API | Adoption metric |

### Целевые значения (MVP)

| Метрика | Цель | Бизнес-цель |
|---------|------|-------------|
| Обработано документов | ≥ 50 без критических ошибок | Валидация pipeline |
| Search latency (простые запросы) | < 2 секунд | Цель 2: Семантический поиск |
| Diarization accuracy | > 80% идентификации спикеров | Базовый уровень |

### Целевые значения (MMP)

| Метрика | Цель | Бизнес-цель |
|---------|------|-------------|
| API response time | p50 < 500ms, p95 < 2s | Цель 2: UX качество |
| Test coverage | > 80% критических путей | Качество и стабильность |
| Diarization accuracy | > 85% идентификации спикеров | Конкурентное преимущество |
| Extraction quality | > 95% точность | Цель 1: Автоматизация 70% |

---

## 10. Риски

Подробный анализ рисков MVP см. в [mvp.md → Риски](mvp.md#риски).

| Риск | Вероятность | Влияние |
|------|-------------|---------|
| API instability | High | Medium |
| Extraction quality | Medium | High |
| Performance issues | Medium | Medium |
| Worker crashes | Medium | High |

---

## 11. Roadmap

### MVP → MMP

См. [mvp.md → Планирование после MVP](mvp.md#планирование-после-mvp) и [mmp.md → Post-MMP Roadmap](mmp.md#post-mmp-roadmap-краткосрочный)

1. **MVP** — Internal tool для команды
2. **Stabilize** — Исправление API, versioning
3. **Auth** — Аутентификация для early adopters
4. **MMP** — Публичный релиз для внешних пользователей

### Срезы релизов

Детальное планирование релизов см. в [story-mapping.md → Срезы релизов](story-mapping.md#срезы-релизов).

---

## 12. Глоссарий

Полный глоссарий см. в [Vision → Glossary](vision.md#12-glossary).

| Термин | Описание |
|--------|----------|
| **RAG** | Retrieval-Augmented Generation |
| **Chunking** | Разбиение текста на фрагменты |
| **Embeddings** | Векторные представления текста |
| **Vector DB** | База данных для хранения векторов |
| **Diarization** | Идентификация спикеров в аудио/видео с привязкой фрагментов к говорящим |

---

## 13. Связанные документы

### Продуктовый контур
- [Vision](vision.md) — видение продукта
- [Миссия](mission.md) — миссия и принципы
- [Стратегия](strategy.md) — бизнес-цели и стратегии
- [MVP](mvp.md) — Minimum Viable Product
- [MMP](mmp.md) — Minimum Marketable Product
- [Story Mapping](story-mapping.md) — карта пользовательских историй
- [User Stories](user-stories/) — детальные пользовательские истории

### Архитектура
- [Architecture Overview](../architecture/overview.md) — обзор архитектуры
- [ADR](../architecture/adr/) — Architecture Decision Records

### Разработка
- [Development Setup](../devops/development/) — настройка dev-окружения
- [Git Workflow](../git-workflow/) — работа с git и PR
