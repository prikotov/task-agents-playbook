# Минимально Маркетируемый Продукт (MMP)

## Определение

MMP (Minimum Marketable Product) — это минимальная версия TasK, которая может быть **публично представлена** и использоваться внешними пользователями (early adopters). MMP расширяет MVP функционалом для производства, безопасности, онбординга и наблюдаемости.

MMP — это **не MVP**: продукт должен быть достаточно качественным для внешнего цикла обратной связи (external feedback loop).

---

## Что добавлено к MVP

| Область | MVP | MMP (Добавлено) |
|--------|-----|----------------|
| **Аутентификация** | Нет | Базовая аутентификация + OAuth2 (Google, Yandex) |
| **Мультиарендность** | Одиночный проект | Проекты и команды |
| **Безопасность** | Базовый | Управление доступом на основе ролей (RBAC) |
| **Наблюдаемость** | Базовое логирование | Метрики, логирование, оповещения |
| **Стабильность API** | Может меняться без уведомления | Версионированный API (v1), стабильные контракты |
| **Документация** | Внутренняя | Публичная документация API, руководства по развертыванию |
| **Онбординг** | Ручной | Базовый процесс онбординга |
| **Развертывание** | Только dev | Руководство по развертыванию в production |
| **Обработка ошибок** | Базовый | Комплексная обработка ошибок, политики повторных попыток |
| **Резервное копирование/Восстановление** | Нет | Базовые процедуры резервного копирования |

---

## Входит в состав MMP

### User Management (Управление пользователями)
- Регистрация пользователей (только по приглашению изначально)
- Интеграция с OAuth2 (Google, Yandex)
- Базовые роли: Admin, Editor, Viewer
- Управление командами (создание/присоединение к командам)
- Изоляция проектов (проекты принадлежат командам)

### Security (Безопасность)
- Управление доступом на основе ролей (RBAC)
- JWT токены для аутентификации API
- Ограничение частоты запросов (rate limiting) для API endpoints
- Валидация и санитизация входных данных
- Безопасное управление секретами

### API (Public)
- Версионированный API (`/api/v1/...`)
- Стабильные контракты (политика обратной совместимости)
- OpenAPI/Swagger документация
- Заголовки ограничения частоты запросов (rate limiting headers)

### Observability (Наблюдаемость)
- Метрики приложения (совместимые с Prometheus)
- Структурированное логирование
- Отслеживание ошибок (Sentry или аналогичный)
- Endpoints проверки работоспособности (health check endpoints)
- Мониторинг производительности (время ответа, пропускная способность)

### Deployment (Развертывание)
- Руководство по развертыванию в production
- Docker/Podman compose для production
- Процедуры резервного копирования/восстановления для базы данных и хранилища
- Руководство по настройке окружения

### Documentation (Документация)
- Публичная документация API
- Руководство по началу работы
- Руководство по развертыванию
- Обзор архитектуры

---

## Не входит в состав MMP

| Функция | Отложено на будущее |
|---------|-------------------|
| Расширенный RBAC (детальное управление правами) | Post-MMP |
| Журналы аудита | Post-MMP |
| Многофакторная аутентификация (MFA) | Post-MMP |
| Корпоративный SSO (SAML, LDAP) | Post-MMP |
| Расширенная аналитическая панель | Post-MMP |
| Вебхуки для событий | Post-MMP |
| Мобильное приложение | Не планируется |
| Маркетплейс интеграций | Post-MMP |
| Функции реального коллективного редактирования | Не планируется |

---

## Критерии выхода

MMP готов к релизу, когда:

### Functional (Функциональность)
- ✅ Внешние пользователи (early adopters) могут регистрироваться через OAuth2
- ✅ Пользователи могут создавать проекты и приглашать членов команды
- ✅ API стабилен и документирован (OpenAPI spec)
- ✅ Все функции MVP работают надёжно для внешних пользователей

### Security (Безопасность)
- ✅ Аутентификация работает корректно
- ✅ RBAC корректно ограничивает доступ
- ✅ Ограничение частоты запросов предотвращает злоупотребления
- ✅ Секреты не попадают в логи

### Quality (Качество)
- ✅ Покрытие тестами > 80% для критических путей
- ✅ Нет критических багов за последние 2 недели
- ✅ Время ответа API: p50 < 500ms, p95 < 2s для поиска

### Observability (Наблюдаемость)
- ✅ Сбор метрик работает
- ✅ Отслеживание ошибок настроено
- ✅ Проверки работоспособности доступны
- ✅ Панель мониторинга настроена

### Documentation (Документация)
- ✅ Публичная документация API завершена
- ✅ Руководство по развертыванию протестировано и работает
- ✅ Известные проблемы и ограничения документированы

### Legal/Compliance (Юридические требования)
- ✅ Политика конфиденциальности опубликована
- ✅ Условия использования определены
- ✅ Согласие на использование файлов cookie реализовано (если применимо)

---

## Post-MMP Roadmap (краткосрочный)

После MMP релиза:

1. **Итерация 1** — Сбор обратной связи от early adopters
2. **Итерация 2** — Оптимизация производительности на основе реальной нагрузки
3. **Итерация 3** — Дополнительные интеграции источников (больше форматов файлов, S3 buckets)
4. **Итерация 4** — Расширенные функции поиска (фильтры, фасеты)
5. **Итерация 5** — Вебхуки для внешних интеграций

Долгосрочная стратегия описана в [vision.md](vision.md).

---

## Связанные документы

- [Vision](vision.md) — видение продукта и стратегия
- [MVP](mvp.md) — определение minimum viable product
- [User Stories](user-stories/) — детальные пользовательские истории
- [Story Mapping](story-mapping.md) — планирование релизов
