# Ветки (Branches)

**Ветка (branch)** — изолированная линия разработки для одной задачи/подзадачи.

## Границы ответственности

- Документ описывает только работу с ветками и их жизненный цикл.
- Правила PR см. в [Pull Request (PR)](pull-request.md).
- Правила коммитов см. в [Коммиты (Commits)](commits.md).

## Правила

- Рабочая ветка создаётся **только** от актуального `master`.
- Запрещены прямые правки в `master` (работаем через `Pull Request`).
- Одна ветка — одна задача: не смешиваем разные задачи и “случайные” улучшения.
- Массовые `move/rename` и последующий `refactor/behavior change` не смешиваем (разные PR).

## Перед началом

- Проверь текущую ветку: `git branch --show-current`.
- Если ты уже в ветке `task/*` для текущей задачи — продолжай в ней.
- Если нет — создай новую ветку по правилам ниже.
- Перед стартом убедись, что рабочее дерево чистое: `git status`.
- `git status` не чистый — остановись.
- Изменения не твои — уточни у пользователя, как действовать.

## Именование

- Формат: `task/<short-description>`.
- `<short-description>`: английский, `kebab-case`, без пробелов, максимально коротко по смыслу.

Примеры:
- `task/docs-code-review`
- `task/source-refresh-web-ui`

## Создание ветки

```bash
git switch master
git pull origin master
git switch -c task/<short-description>
```

- `git pull` привёл к конфликтам — остановись и уточни у пользователя, как действовать.

## Синхронизация с master

- Перед началом работы подтяни свежий `master`.
- Перед финализацией PR подтяни свежий `master`.
- Если не уверен, использовать `merge` или `rebase`, — уточни у пользователя.

```bash
git fetch origin
git merge origin/master
```

```bash
git fetch origin
git rebase origin/master
```

## Завершение

- После merge PR в `master` ветку нужно удалить локально и в `origin`, чтобы не накапливать “мёртвые” ветки.
