# Сценарий использования (use case)

**Сценарий использования (use case)** — реализуют конкретные действия или сценарии, которые может выполнить
пользователь или система в приложении или его модуле, оркестрируя вызовы к классам домена.

**Состоят из:**

- [CommandHandler](command_handler.md) — изменяют состояние (данные) приложения;
- [QueryHandler](query_handler.md) — возвращают данные.

UseCase-ы являются частью слоя [Application](application_layer.md) и могут располагаться только там.

# Структура UseCase-ов

```
src/Module/{ModuleName}/Application/
└── UseCase/
    ├── Command/
    │   └── {CommandGroup}/
    │       └── {CommandName}/
    │           ├── {CommandName}Command.php
    │           └── {CommandName}CommandHandler.php
    └── Query/
        └── {QueryGroup}/
            └── {QueryName}/
                ├── {QueryName}Query.php
                ├── {QueryName}QueryHandler.php
                └── {QueryName}QueryResultDto.php
```

## Содержат

- Взаимодействуют с доменом: определяют, какие операции бизнес-логики должны быть выполнены.
- Преобразование и, при необходимости, валидацию входных данных.
- Обработку ошибок, связанных с нарушением бизнес-правил.
- Управление транзакциями, если это необходимо.
- Принимают и возвращают только свои DTO или скалярные значения.

## Не содержат

- Зависимости от фреймворка.
- Не реализуют бизнес-логику самостоятельно — делегируют её в доменные сущности, сервисы и спецификации.
- Вызов классов из других модулей.
- Вызовы других UseCase-ов.
